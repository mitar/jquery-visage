<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>jQuery Visage</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="./res-default/visage.css" />
<script type="text/javascript" src="./lib/jquery.js"></script>
<script type="text/javascript" src="./src/jquery.visage.js"></script>
<script type="text/javascript">
$.initVisage({
	"files": {
		"blank": "./res-default/blank.gif",
		"error": "./res-default/error.png"
	},
	"css": {
		"prev": {
			"background": 'transparent url("./res-default/prev.png") no-repeat scroll center left',
			"cursor": "pointer"
		},
		"prev_disabled": {
			"background": 'transparent url("./res-default/prev_disabled.png") no-repeat scroll center left',
			"cursor": "default"
		},
		"next": {
			"background": 'transparent url("./res-default/next.png") no-repeat scroll center right',
			"cursor": "pointer"
		},
		"next_disabled": {
			"background": 'transparent url("./res-default/next_disabled.png") no-repeat scroll center right',
			"cursor": "default"
		}
	}
});
$(document).ready(function () {
	$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?lang=en-us&format=json&jsoncallback=?", function (data, textStatus) {
		$.each(data.items, function (i, item) {
			var title = item.title;
			var link = item.media.m.replace(/_m\.jpg$/, ".jpg");
			var thumbnail = item.media.m.replace(/_m\.jpg$/, "_s.jpg");
			$("<a/>").attr({
				"href": link
			}).append(
				$("<img/>").attr({
					"src": thumbnail,
					"alt": title,
					"title": title
				}).css({
					"margin": "2px",
					"border": "none",
					"vertical-align": "bottom"
				})
			).appendTo("#images");
		});
		$("#images a").visage();
	});
});
</script>
</head>
<body>
<div id="images"></div>
</body>
</html>
